<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>Retro PC Simulation</title>
<style>
body { margin:0; font-family:'Courier New', monospace; background:#008080; overflow:hidden; }
/* CRT Overlay */
#crtOverlay { position: fixed; top:0; left:0; width:100%; height:100%; pointer-events:none;
background-image: repeating-linear-gradient(0deg, rgba(0,255,0,0.03), rgba(0,255,0,0.03) 1px, transparent 1px, transparent 2px); opacity:0.05; }
/* ë¡œë”© í™”ë©´ */
#loadingScreen { position:fixed; top:0; left:0; width:100vw; height:100vh; display:flex; flex-direction:column; justify-content:center; align-items:center; background:black; color:#33ff33; font-size:24px; }
#loadingBar { width:300px; height:20px; border:1px solid #33ff33; margin-top:20px; }
#loadingFill { width:0%; height:100%; background:#33ff33; }
.cursor { display:inline-block; width:10px; background:#33ff33; margin-left:2px; animation:blink 1s infinite; vertical-align:bottom; }
@keyframes blink {0%,50%,100%{opacity:1;} 25%,75%{opacity:0;} }
/* ë°”íƒ•í™”ë©´ */
#desktop { display:none; width:100vw; height:100vh; padding:20px; position:relative; }
.icon { width:80px; text-align:center; cursor:pointer; display:inline-block; margin:10px; border:1px solid #fff; padding:10px; background:#c0c0c0; box-shadow:2px 2px #808080; }
.icon div { font-size:12px; }
</style>
</head>
<body>

<div id="crtOverlay"></div>

<!-- ë¡œë”© í™”ë©´ -->
<div id="loadingScreen">
  <p>ë¡œë”© ì¤‘<span class="cursor"></span></p>
  <div id="loadingBar"><div id="loadingFill"></div></div>
</div>

<!-- ë°”íƒ•í™”ë©´ -->
<div id="desktop">
  <div class="icon" onclick="openSecurityDialog()">ğŸ“„<div>RESEARCH_LOG_001</div></div>
  <div class="icon" onclick="openWindow('docWindow2')">ğŸ—‚<div>LOG_002</div></div>
  <div class="icon" onclick="openWindow('terminalWindow')">ğŸ–¥<div>TERMINAL</div></div>
</div>

<script>
/* ë¡œë”© ì§„í–‰ */
const loadingFill = document.getElementById("loadingFill");
let progress = 0;
const loadInterval = setInterval(()=>{
  progress += Math.random()*5;
  if(progress>100) progress=100;
  loadingFill.style.width = progress+"%";
  if(progress>=100){
    clearInterval(loadInterval);
    document.getElementById("loadingScreen").style.display="none";
    document.getElementById("desktop").style.display="block";
  }
},100);
</script>
<!-- ë³´ì•ˆ ê²½ê³  íŒì—… -->
<style>
.window-dialog {
  position: absolute;
  width: 360px;
  background: #c0c0c0;
  border: 2px solid #000;
  box-shadow: 4px 4px #888;
  top: 30%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 1000;
}
.window-dialog .header {
  background: #000080;
  color: white;
  padding: 4px;
  font-weight: bold;
  font-size: 14px;
  cursor: default;
  user-select: none;
}
.window-dialog .body {
  padding: 12px;
  font-size: 13px;
  color: #000;
}
.window-dialog .actions {
  margin-top: 12px;
  text-align: right;
}
.win-btn {
  background: #e0e0e0;
  border: 1px solid #444;
  padding: 4px 10px;
  font-size: 13px;
  cursor: pointer;
}
.win-btn:hover {
  background: #d0d0d0;
}

/* ë¹„ë°€ë²ˆí˜¸ ì°½ */
#passwordDialog {
  position: absolute;
  width: 300px;
  background: #c0c0c0;
  border: 2px solid #000;
  box-shadow: 4px 4px #888;
  top: 35%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 1000;
  display: none;
}
#passwordDialog .header {
  background: #000080;
  color: white;
  padding: 4px;
  font-weight: bold;
  font-size: 14px;
}
#passwordDialog .body {
  padding: 10px;
  font-size: 13px;
}
#passwordDialog input {
  width: 100%;
  margin-top: 6px;
  padding: 4px;
  border: 1px solid #444;
  font-size: 13px;
}
</style>

<div class="window-dialog" id="securityDialog" style="display:none;">
  <div class="header">ë³´ì•ˆ ê²½ê³ </div>
  <div class="body">
    ì´ ë¬¸ì„œëŠ” ë³´ì•ˆ ì œí•œ êµ¬ì—­ì…ë‹ˆë‹¤.<br>
    ì—´ëŒí•˜ì‹œê² ìŠµë‹ˆê¹Œ?
    <div class="actions">
      <button class="win-btn" onclick="showPasswordStep()">ì—´ëŒ</button>
      <button class="win-btn" onclick="closeSecurityDialog()">ì·¨ì†Œ</button>
    </div>
  </div>
</div>

<div id="passwordDialog">
  <div class="header">ë¹„ë°€ë²ˆí˜¸ ì…ë ¥</div>
  <div class="body">
    ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”:<br>
    <input type="password" id="pwInput" placeholder="ë¹„ë°€ë²ˆí˜¸">
    <div class="actions" style="margin-top:10px; text-align: right;">
      <button class="win-btn" onclick="checkPW()">í™•ì¸</button>
      <button class="win-btn" onclick="closePWDialog()">ì·¨ì†Œ</button>
    </div>
    <p id="pwError" style="color:red; font-size:12px; margin-top:6px;"></p>
  </div>
</div>

<script>
function openSecurityDialog() {
  document.getElementById("securityDialog").style.display = "block";
}
function closeSecurityDialog() {
  document.getElementById("securityDialog").style.display = "none";
}
function showPasswordStep() {
  closeSecurityDialog();
  document.getElementById("passwordDialog").style.display = "block";
}
function closePWDialog() {
  document.getElementById("passwordDialog").style.display = "none";
  document.getElementById("pwError").innerText = "";
}
function checkPW() {
  const pw = document.getElementById("pwInput").value.trim();
  if(pw==="test"){
    closePWDialog();
    openDocumentWindow();
  } else {
    document.getElementById("pwError").innerText = "ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ìŠµë‹ˆë‹¤.";
  }
}
</script>
<!-- ë¬¸ì„œ íŒì—… -->
<style>
.window {
  position:absolute;
  width:400px;
  height:300px;
  background:#c0c0c0;
  border:2px solid #000;
  box-shadow:4px 4px #888;
  top:50px;
  left:50px;
  z-index:100;
  display:none;
}
.window .header {
  background:#000080;
  color:white;
  padding:4px;
  font-weight:bold;
  font-size:14px;
  cursor:move;
}
.window .body {
  padding:10px;
  font-size:13px;
  color:#000;
}
.window button {
  background:#e0e0e0;
  border:1px solid #444;
  padding:3px 6px;
  cursor:pointer;
}
</style>

<div class="window" id="docWindow2">
  <div class="header">LOG_002 <button onclick="closeWindow('docWindow2')">X</button></div>
  <div class="body">
    <p>ì—¬ê¸°ì— LOG_002 ë‚´ìš©ì´ í‘œì‹œë©ë‹ˆë‹¤.</p>
  </div>
</div>

<div class="window" id="documentWindow">
  <div class="header">RESEARCH_LOG_001 <button onclick="closeWindow('documentWindow')">X</button></div>
  <div class="body">
    <h2>[ê¸°ë°€] ì—°êµ¬ ê¸°ë¡ 001</h2>
    <p>ë¹„ì¸ê°€ ì—´ëŒ ê¸ˆì§€</p>
    <hr>
    <p>í”¼í—˜ìëŠ” ìˆ˜ë©´ ì¤‘ ê¿ˆì˜ êµ¬ì¡°ê°€ ì™¸ë¶€ ì‹ í˜¸ì— ì˜í•´ ë³€í˜•ëœë‹¤ê³  ë³´ê³ í•¨.</p>
  </div>
</div>

<!-- ì‘ì—… í‘œì‹œì¤„ -->
<style>
#taskbar {
  position:fixed;
  bottom:0;
  left:0;
  width:100%;
  height:30px;
  background:#000080;
  color:white;
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:0 5px;
  font-size:14px;
}
#startButton { background:#0060c0; padding:2px 8px; cursor:pointer; }
.taskbar-apps span { margin:0 5px; cursor:pointer; }
#clock { min-width:60px; text-align:right; }
</style>

<div id="taskbar">
  <div id="startButton">ì‹œì‘</div>
  <div class="taskbar-apps">
    <span>ğŸ“„</span>
    <span>ğŸ–¥</span>
    <span>ğŸ—‚</span>
  </div>
  <div id="clock"></div>
</div>

<script>
/* íŒì—… ì°½ ì—´ê¸°/ë‹«ê¸° */
function openWindow(id){ document.getElementById(id).style.display='block'; }
function closeWindow(id){ document.getElementById(id).style.display='none'; }

/* ë¬¸ì„œ ì—´ê¸° í•¨ìˆ˜ */
function openDocumentWindow(){
  openWindow('documentWindow');
}

/* ì‹œê³„ */
function updateClock(){
  const now=new Date();
  const h=String(now.getHours()).padStart(2,'0');
  const m=String(now.getMinutes()).padStart(2,'0');
  document.getElementById("clock").innerText=`${h}:${m}`;
}
setInterval(updateClock,1000);
updateClock();
</script>
<script>
/* íŒì—… ë“œë˜ê·¸ */
function makeDraggable(el) {
  const header = el.querySelector('.header');
  let offsetX = 0, offsetY = 0, isDown = false;

  header.addEventListener('mousedown', e => {
    isDown = true;
    offsetX = e.clientX - el.offsetLeft;
    offsetY = e.clientY - el.offsetTop;
  });

  document.addEventListener('mouseup', e => isDown=false);
  document.addEventListener('mousemove', e => {
    if(!isDown) return;
    el.style.left = (e.clientX - offsetX) + 'px';
    el.style.top = (e.clientY - offsetY) + 'px';
  });
}

/* ëª¨ë“  íŒì—…ì— ë“œë˜ê·¸ ì ìš© */
document.querySelectorAll('.window, #securityDialog, #passwordDialog').forEach(makeDraggable);

/* CRT ê¹œë¹¡ì„ íš¨ê³¼ */
setInterval(()=>{
  document.getElementById("crtOverlay").style.opacity = (Math.random()*0.1).toFixed(2);
}, 100);
</script>

</body>
</html>
